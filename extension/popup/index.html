<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <link rel="stylesheet" href="style.css">
    <script src="../browser-polyfill.min.js"></script>
    <script src="popup.js"></script>
  </head>

  <body>
    <div class="card">
      <header aria-hidden="true">
        <img src="../icons/32.png" height="24px">
        <h1>Better Tele-Task</h1><h2>Settings</h2>
      </header>
      <footer class="card-footer">
        <small>
          <a id="featuresReload">Reload</a> the page for changes to take effect.
        </small>
      </footer>
    </div>
    <div class="card" id="apikey">
      <details>
        <summary class="card-header" aria-hidden="true">API key</summary>
        <main class="card-body">
          <label for="apikeyInput" class="visually-hidden">Better Tele-Task API key</label>
          <div class="input-group">
            <div class="key-input-wrapper">
              <input type="text" id="apikeyInput" placeholder="Better Tele-Task API key" autocomplete="off" required/>
              <button type="button" id="apikeyToggle" aria-label="Toggle password visibility">
                <svg viewBox="0 0 24 24" fill="none" stroke="#e6eef6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>
                  <circle cx="12" cy="12" r="3"/>
                  <line x1="2" y1="3" x2="22" y2="21"/>
                </svg>
              </button>
            </div>
            <button id="apikeySave" class="btn-primary" type="button" aria-label="Save API key">Save</button>
          </div>
          <div id="apikeyStatus" class="status">
            <svg id="apikeyStatusIcon" width="0.88rem" height="0.88rem" viewBox="0 0 48 48" stroke="currentcolor" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="24" cy="24" r="22" stroke-width="4" fill="none"/>
              <path d="m12 24c0 3 2 5 5 5s5-2 5-5c0-7-10-7-10 0m10 0h14v4h-4v-4h-6" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p id="apikeyStatusText" role="status" aria-live="polite">Please enter your API key.</p>
            <button id="apikeyDelete">Delete</button>
          </div>
        </main>
      </details>
    </div>
    <div class="card" id="features">
      <details>
        <summary class="card-header" aria-hidden="true">Features</summary>
        <main class="card-body">
          <label for="featuresSubtitles">
            <input type="checkbox" id="featuresSubtitles" name="features" value="subtitles">
            Subtitles and transcript
          </label><br>
          <label for="featuresDoubleclick">
            <input type="checkbox" id="featuresDoubleclick" name="features" value="doubleclick">
            Double-click player for fullscreen
          </label><br>
          <label for="featuresNoresizelimit">
            <input type="checkbox" id="featuresNoresizelimit" name="features" value="noresizelimit">
            Remove resizing restrictions
          </label><br>
          <label for="featuresKplay">
            <input type="checkbox" id="featuresKplay" name="features" value="kplay">
            Press k to play/pause
          </label><br>
          <label for="featuresResizesubs">
            <input type="checkbox" id="featuresResizesubs" name="features" value="resizesubs">
            Resize subtitles using +/-
          </label><br>
          <label for="featuresMovesubs">
            <input type="checkbox" id="featuresMovesubs" name="features" value="movesubs">
            Drag subtitles (r to reset)
          </label><br>
          <div class="input-group">
            <button id="featuresSave" class="btn-primary" type="button" aria-label="Save feature settings">Save</button>
            <div id="featuresStatus" class="status">
              <svg id="featuresStatusIcon" width="0.88rem" height="0.88rem" viewBox="0 0 48 48" stroke="currentcolor" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="24" cy="24" r="22" stroke-width="4" fill="none"/>
                <path d="M14 25l6 6 14-14" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p id="featuresStatusText" role="status" aria-live="polite">Settings saved.</p>
            </div>
          </div>
        </main>
      </details>
    </div>
    <div class="card" id="feedback">
      <div class="card-header" aria-hidden="true">Source Code, Feedback, About</div>
      <main class="card-body">
        Visit <a href="https://github.com/C0NZZ/better-teletask">GitHub</a> for more information.<br>For questions, see our <a href="https://github.com/C0NZZ/better-teletask/wiki/FAQ">FAQ</a> or contact us directly.
      </main>
    </div>
  </body>
</html>